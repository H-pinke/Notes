##### 索引的本质

MySQL 官方对索引的定义为：索引（index）是帮助MYSQL高效获取数据的 数据结构。一句话：索引是数据结构

##### 二叉树的度

通俗的讲，**二叉树中连接节点和节点的线就是度**，有N个节点，就有N-1个度，节点数总是比度要多一个。那么度为0的节点 一定是叶子节点，因为该节点的下面不再有线。度为1的节点只有一个分支，同理度为2的节点就是有两个分支。在二叉树中不存在度为3的节点或大于3节点。

一棵树一般看最大的



##### B-tree B+tree

B+tree

- 每个节点的指针上限为2d而不是2d+1.d是度
- 内节点不存储data, 只存储key；叶子节点不存储指针。
- 在B+tree 的每个叶子节点增加一个指向相邻叶子节点的指针。

##### InnoDB 索引的实现

注意事项

- 不建议使用过长的字段作为主键，因为所有的普通索引都引用主键索引，过长的主索引会令普通索引变得过大。
- 尽量使用自增的字段作为主键，因为innoDB本身就是一颗B+tree，非自增的主键会造成在插入新记录时数据文件为了维持B+tree 的特性而频繁的分裂调整，十分低效。

##### MyISAM 索引实现

MyISAM 引擎使用b+tree作为 索引结构，叶节点的data 域存放的是数据记录的地址。

##### InnoDB 的主键选择与插入优化

InnoDB 使用聚簇索引，数据记录本身被存于主索引的叶子节点上。这就要求同一个叶子节点内（大小为一个内存页）各条数据记录按主键顺序存放，因此每当有一条新的记录插入时，Mysql 会根据其主键将其插入适当的节点和位置，如果页面达到装载因子(InnoDB默认为15/16）,则开辟一个新的页(节点)